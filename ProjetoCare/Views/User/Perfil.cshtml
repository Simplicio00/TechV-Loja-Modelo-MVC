@inject ShoppingCart sp;
@inject UserSession usr;
@{
	ViewData["title"] = "Perfil";
	UserInfoViewModel user = usr.GetUser();
	int total = 0;
	foreach (var item in sp.Search().ToList())
	{
		total += item.QuantidadeCarrinho;
	}
}

@if ( user != null)
{
	<component type="typeof(CartInfoComponent)" Param-Valor="@total" Param-Nome="@user.Nome" render-mode="Static" />
}
else
{
	<component type="typeof(CartInfoComponent)" Param-Valor="@total" render-mode="Static" />
}

<section style="width: 100%;display: flex; height:100%; justify-content: center;align-items: center;">
	
	<component type="typeof(StatusSideComponent)" Param-Nome="@user.Nome" Param-Email="@user.Email" Param-CEP="@user.CEP" render-mode="Static" />
	

	<div id="right-side-component-info" style="width:60%;margin-left:10px;height:541px;display: flex;flex-flow: column;align-items: center; justify-content: center;border:groove 1px black;background-color:dimgray;">

		<div style="display:flex;align-items:center;justify-content:center;padding:10px;">
			<i class="fas fa-folder"></i><a style="margin-left:10px;color:white;" asp-action="perfil"> PERFIL /</a>
		</div>

		<div style="background-color: #828282;height: 50px; margin-top: 10px; width: 50%; text-align: center; display: flex; align-items: center; justify-content: center; border-radius: 20px; ">
			<a style="border:none;color:white;" asp-action="nome" asp-controller="user" > NOME </a>
		</div>

		<div style="background-color: #828282;height: 50px; margin-top: 10px; width: 50%; text-align: center; display: flex; align-items: center; justify-content: center; border-radius: 20px; ">
			<a style="border:none;color:white;" asp-action="cep" asp-controller="user" > CEP </a>
		</div>

		<div style="background-color: #828282;height: 50px; margin-top: 10px; width: 50%; text-align: center; display: flex; align-items: center; justify-content: center; border-radius: 20px; ">
			<a style="border:none;color:white;" asp-action="alterarsenha" asp-controller="user"> SENHA </a>
		</div>


		<div style="background-color: #828282;height: 50px; margin-top: 10px; width: 50%; text-align: center; display: flex; align-items: center; justify-content: center; border-radius: 20px; ">
			<a asp-action="transacoes" style="border:none;color:white;"> TRANSAÇÕES </a>
		</div>


		<div style="background-color:#828282;height: 50px;margin-top: 10px;width: 50%;text-align: center;display: flex;align-items: center;justify-content: center;border-radius: 20px;">
			<a asp-action="chat" style="border:none;color:white;"> FALE CONOSCO </a>
		</div>


	</div>

</section>